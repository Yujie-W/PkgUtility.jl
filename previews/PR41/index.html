<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · PkgUtility.jl</title><meta name="title" content="Home · PkgUtility.jl"/><meta property="og:title" content="Home · PkgUtility.jl"/><meta property="twitter:title" content="Home · PkgUtility.jl"/><meta name="description" content="Documentation for PkgUtility.jl."/><meta property="og:description" content="Documentation for PkgUtility.jl."/><meta property="twitter:description" content="Documentation for PkgUtility.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>PkgUtility.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#ArtifactTools"><span>ArtifactTools</span></a></li><li><a class="tocitem" href="#DistributedTools"><span>DistributedTools</span></a></li><li><a class="tocitem" href="#PrettyDisplay"><span>PrettyDisplay</span></a></li><li><a class="tocitem" href="#RecursiveTools"><span>RecursiveTools</span></a></li><li><a class="tocitem" href="#TimeParser"><span>TimeParser</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/Yujie-W/PkgUtility.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/Yujie-W/PkgUtility.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="PkgUtility.jl"><a class="docs-heading-anchor" href="#PkgUtility.jl">PkgUtility.jl</a><a id="PkgUtility.jl-1"></a><a class="docs-heading-anchor-permalink" href="#PkgUtility.jl" title="Permalink"></a></h1><p>A collection of utility functions used for Emerald Land model. The module used to be a sub-module of the under-developing Emerald Land model (not registered), and reusing the functions is more or less inconvenient as one would need to import the entire mega land model to use a very small tool. Therefore, I tease apart the functions that require minimum dependencies and move them to a new package. There are a number of submodules (and utility functions) for different purposes, and they are listed here in an alphabetical order.</p><h2 id="ArtifactTools"><a class="docs-heading-anchor" href="#ArtifactTools">ArtifactTools</a><a id="ArtifactTools-1"></a><a class="docs-heading-anchor-permalink" href="#ArtifactTools" title="Permalink"></a></h2><p>Read and write toml and yaml files to use with GriddingMachine (and other general purposes)</p><article><details class="docstring" open="true"><summary id="PkgUtility.ArtifactTools.read_library"><a class="docstring-binding" href="#PkgUtility.ArtifactTools.read_library"><code>PkgUtility.ArtifactTools.read_library</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">read_library(filename::String)</code></pre><p>Read an Artifact library file in either <code>TOML</code> or <code>YAML</code> format, given</p><ul><li><code>filename</code> File name of the library file</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PkgUtility.jl/blob/fcbaf8daf7709cd7e30565239e6c331e69dafe95/src/ArtifactTools/read-toml-yaml.jl#L1-L8">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PkgUtility.ArtifactTools.save_library!"><a class="docstring-binding" href="#PkgUtility.ArtifactTools.save_library!"><code>PkgUtility.ArtifactTools.save_library!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">save_library!(filename::String, data::Union{Dict, OrderedDict})
save_library!(data::Union{Dict, OrderedDict}, filename::String)</code></pre><p>Save a Dict as a TOML or YAML file, given</p><ul><li><code>filename</code> File name of the library file</li><li><code>data</code> Data to be saved</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PkgUtility.jl/blob/fcbaf8daf7709cd7e30565239e6c331e69dafe95/src/ArtifactTools/save-toml-yaml.jl#L1-L10">source</a></section></details></article><h2 id="DistributedTools"><a class="docs-heading-anchor" href="#DistributedTools">DistributedTools</a><a id="DistributedTools-1"></a><a class="docs-heading-anchor-permalink" href="#DistributedTools" title="Permalink"></a></h2><p>Add and remove processors dynamically based on the maximum number of CPU cores and the requested number of threads. For example, if the requested number of threads exceeds the maximum CPU count, the maximum CPU wound be used; if the requested number of threads is fewer than existing workers, the extra ones would be removed.</p><article><details class="docstring" open="true"><summary id="PkgUtility.DistributedTools.dynamic_workers!"><a class="docstring-binding" href="#PkgUtility.DistributedTools.dynamic_workers!"><code>PkgUtility.DistributedTools.dynamic_workers!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">dynamic_workers!(threads::Int; exeflags::String = &quot;--project&quot;)</code></pre><p>Add processors to run code in multiple threadings, given</p><ul><li><code>threads</code> Number of threads</li><li><code>exeflags</code> Flags for the Julia executable</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PkgUtility.jl/blob/fcbaf8daf7709cd7e30565239e6c331e69dafe95/src/DistributedTools/dynamic-workers.jl#L1-L9">source</a></section></details></article><h2 id="PrettyDisplay"><a class="docs-heading-anchor" href="#PrettyDisplay">PrettyDisplay</a><a id="PrettyDisplay-1"></a><a class="docs-heading-anchor-permalink" href="#PrettyDisplay" title="Permalink"></a></h2><p>Display the information within an <code>@info</code> block (or <code>@warn</code> or <code>@error</code>), showing the time of the operation as well</p><article><details class="docstring" open="true"><summary id="PkgUtility.PrettyDisplay.pretty_display!"><a class="docstring-binding" href="#PkgUtility.PrettyDisplay.pretty_display!"><code>PkgUtility.PrettyDisplay.pretty_display!</code></a> — <span class="docstring-category">Function</span></summary><section><div><p><strong></strong></p><pre><code class="language-julia hljs">pretty_display!(msg::String, func_type::String)</code></pre><p>Display the message based on the message level, given</p><ul><li><code>msg</code> message to display</li><li><code>func_type</code> message level for displaying</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">    pretty_display!(&quot;This is an entire timed info message&quot;, &quot;tinfo&quot;);
    pretty_display!(&quot;This is the first line of a set of timed info messages&quot;, &quot;tinfo_pre&quot;);
    pretty_display!(&quot;This is the middle line of a set of timed info messages&quot;, &quot;tinfo_mid&quot;);
    pretty_display!(&quot;This is the last line of a set of timed info messages&quot;, &quot;tinfo_end&quot;);</code></pre><p><strong></strong></p><pre><code class="language-julia hljs">pretty_display!(pvec::Vector{&lt;:Pair})</code></pre><p>Display the pairs in a pretty way, given</p><ul><li><code>pvec</code> Vector of pairs to display</li></ul><hr/><p>Examples</p><pre><code class="language-julia hljs">    pvec = [&quot;A&quot; =&gt; &quot;b&quot;, &quot;d&quot; =&gt; &quot;A&quot;, &quot;rr&quot; =&gt; [&quot;ra&quot; =&gt; &quot;rB&quot;, &quot;rD&quot; =&gt; &quot;ra&quot;]];
    pretty_display!(pvec);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PkgUtility.jl/blob/fcbaf8daf7709cd7e30565239e6c331e69dafe95/src/PrettyDisplay/PrettyDisplay.jl#L6-L36">source</a></section></details></article><h2 id="RecursiveTools"><a class="docs-heading-anchor" href="#RecursiveTools">RecursiveTools</a><a id="RecursiveTools-1"></a><a class="docs-heading-anchor-permalink" href="#RecursiveTools" title="Permalink"></a></h2><p>Test and floating number type or if containing nan within a variable (number, vector, structure, etc) in a recursive manner</p><article><details class="docstring" open="true"><summary id="PkgUtility.RecursiveTools.FT_test"><a class="docstring-binding" href="#PkgUtility.RecursiveTools.FT_test"><code>PkgUtility.RecursiveTools.FT_test</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">FT_test(para::Array, FT)
FT_test(para::Number, FT)
FT_test(para::Union{Function, Module, String, Symbol}, FT)
FT_test(para::Any, FT)</code></pre><p>Return true or false to determine if the FT is consistent, given</p><ul><li><code>para</code> Parameter to run FT control</li><li><code>FT</code> Float type</li></ul><p>If the testing variable is an array, the function will test if element type is float number:</p><ul><li>If true, the function tests if the element type is the same as given <code>FT</code></li><li>If false, the function tests each element recursively</li></ul><p>The variable to test maybe a struct, but <code>FT_test</code> does not know the struct type name a priori. Thus, we try to read out the fields of the variable:</p><ul><li>If succeeds, the function test the fields recursively</li><li>If fails, then do nothing</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PkgUtility.jl/blob/fcbaf8daf7709cd7e30565239e6c331e69dafe95/src/RecursiveTools/number-test.jl#L1-L20">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PkgUtility.RecursiveTools.NaN_test"><a class="docstring-binding" href="#PkgUtility.RecursiveTools.NaN_test"><code>PkgUtility.RecursiveTools.NaN_test</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">NaN_test(para::Array)
NaN_test(para::Number)
NaN_test(para::Union{Function, Module, String, Symbol})
NaN_test(para::Any)</code></pre><p>Test if the variable is not NaN, given</p><ul><li><code>para</code> Parameter to test</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PkgUtility.jl/blob/fcbaf8daf7709cd7e30565239e6c331e69dafe95/src/RecursiveTools/nan-test.jl#L1-L11">source</a></section></details></article><p>Compare and synchronize a structure in a recursive manner</p><article><details class="docstring" open="true"><summary id="PkgUtility.RecursiveTools.compare_struct!"><a class="docstring-binding" href="#PkgUtility.RecursiveTools.compare_struct!"><code>PkgUtility.RecursiveTools.compare_struct!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">compare_struct!(struct1::ST, struct2::ST; approximation::Bool = true, first_element_array::Bool = true, show_diff_msg::Bool = true) where ST
compare_struct!(struct1::ST, struct2::ST, target::Symbol; first_element_array::Bool = true, show_diff_msg::Bool = true) where ST</code></pre><p>Comparing two structs <code>struct1</code> and <code>struct2</code> recursively, given</p><ul><li><code>struct1</code> The first struct to compare</li><li><code>struct2</code> The second struct to compare</li><li><code>approximation</code> Whether to compare the numbers approximately</li><li><code>first_element_array</code> Whether to compare the first element of an array only</li><li><code>show_diff_msg</code> Whether to show the difference message</li><li><code>target</code> The field to compare</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PkgUtility.jl/blob/fcbaf8daf7709cd7e30565239e6c331e69dafe95/src/RecursiveTools/struct-compare.jl#L1-L14">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PkgUtility.RecursiveTools.sync_struct!"><a class="docstring-binding" href="#PkgUtility.RecursiveTools.sync_struct!"><code>PkgUtility.RecursiveTools.sync_struct!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">sync_struct!(struct_from, struct_to)</code></pre><p>Sync the fields from <code>struct_from</code> to <code>struct_to</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PkgUtility.jl/blob/fcbaf8daf7709cd7e30565239e6c331e69dafe95/src/RecursiveTools/struct-sync.jl#L1-L7">source</a></section></details></article><h2 id="TimeParser"><a class="docs-heading-anchor" href="#TimeParser">TimeParser</a><a id="TimeParser-1"></a><a class="docs-heading-anchor-permalink" href="#TimeParser" title="Permalink"></a></h2><p>Identify the month index with a known doy-of-year, or the range of doy-of-year of a known month</p><article><details class="docstring" open="true"><summary id="PkgUtility.TimeParser.which_month"><a class="docstring-binding" href="#PkgUtility.TimeParser.which_month"><code>PkgUtility.TimeParser.which_month</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">which_month(year::Int, doy::Int)</code></pre><p>Return the month index, given</p><ul><li><code>year</code> Year</li><li><code>doy</code> Day of year (typically 1-365, 1-366 for leap years)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PkgUtility.jl/blob/fcbaf8daf7709cd7e30565239e6c331e69dafe95/src/TimeParser/which-month.jl#L1-L9">source</a></section></details></article><article><details class="docstring" open="true"><summary id="PkgUtility.TimeParser.month_doys"><a class="docstring-binding" href="#PkgUtility.TimeParser.month_doys"><code>PkgUtility.TimeParser.month_doys</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">month_doys(year::Int, month::Int)
month_doys(leapyear::Bool, month::Int)</code></pre><p>Return the day of year, given</p><ul><li><code>year</code> Year</li><li><code>month</code> Month</li><li><code>leapyear</code> Whether the year is a leap year</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PkgUtility.jl/blob/fcbaf8daf7709cd7e30565239e6c331e69dafe95/src/TimeParser/month-doys.jl#L1-L11">source</a></section></details></article><p>Parse number and string to different formats</p><article><details class="docstring" open="true"><summary id="PkgUtility.TimeParser.parse_timestamp"><a class="docstring-binding" href="#PkgUtility.TimeParser.parse_timestamp"><code>PkgUtility.TimeParser.parse_timestamp</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">parse_timestamp(timestamp::Union{Int,String}, in_format::String, out_format::String)
parse_timestamp(year::Int, doy::Int, out_format::String)
parse_timestamp(year::Int, doy::AbstractFloat, out_format::String)</code></pre><p>Convert timestamp, given</p><ul><li><code>timestamp</code> Time stamp</li><li><code>in_format</code> Format of <code>timestamp</code>, default is <code>YYYYMMDD</code></li><li><code>out_format</code> Output format, default is <code>DOY</code></li><li><code>year</code> Year (in this case, the function will convert year and day to timestamp first)</li><li><code>doy</code> Day of year (typically 1-365, 1-366 for leap years)</li></ul><p>The input format (string or integer) supports <code>YYYYMMDD</code>, <code>YYYYMMDDhh</code>, <code>YYYYMMDDhhmm</code>, <code>YYYYMMDDhhmmss</code>, and <code>YYYYMMDDhhmmss.mmm</code>, where the labels are</p><ul><li><code>YYYY</code> Year number</li><li><code>MM</code> Month number</li><li><code>DD</code> Day number</li><li><code>hh</code> Hour number</li><li><code>mm</code> Minute number</li><li><code>ss</code> Second number</li><li><code>mmm</code> Millisecond number</li></ul><p>The supported outputs are</p><ul><li><code>DATE</code> A <code>Dates.Date</code> type variable</li><li><code>DATETIME</code> A <code>Dates.DateTime</code> type variable</li><li><code>DOY</code> A day of year integer</li><li><code>FDOY</code> A day of year float</li></ul><hr/><p>Examples</p><pre><code class="language-julia hljs">    time = parse_timestamp(20200130, &quot;YYYYMMDD&quot;, &quot;FDOY&quot;);
    time = parse_timestamp(&quot;20200130&quot;, &quot;YYYYMMDD&quot;, &quot;FDOY&quot;);
    time = parse_timestamp(2020, 100, &quot;DOY&quot;);
    time = parse_timestamp(2020, 100.23435436, &quot;DATETIME&quot;);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PkgUtility.jl/blob/fcbaf8daf7709cd7e30565239e6c331e69dafe95/src/TimeParser/parse-time.jl#L1-L38">source</a></section></details></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Thursday 11 December 2025 05:23">Thursday 11 December 2025</span>. Using Julia version 1.12.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
